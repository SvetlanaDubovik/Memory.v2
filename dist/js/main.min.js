!function(e){function t(n){if(r[n])return r[n].exports;var a=r[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var r={};t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="../",t(t.s=4)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SETTINGS={POINT:42,ALL_PAIRS:9,ALL_CARDS_SHOW_INTERVAL_MS:5e3,DEBOUNCE_INTERVAL_MS:500,CARDS_PAIR_SHOW_INTERVAL_MS:750}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleStartGame=t.game=void 0;var n=r(5),a=r(3),o=r(2),c=r(0),i=r(10),s=new i.Cards,u=t.game=new n.Game(s),d=t.handleStartGame=function e(){h();var t=document.querySelector("#startPage"),r=document.querySelector("#gamePage"),n=document.querySelector("#endPage"),a=document.querySelector("#backgroundMusic");l(t),l(n),f(r),r.addEventListener("mousemove",function(e){e.preventDefault()}),a.src="../dist/media/pinkPantera.mp3",a.play(),u.startNew(),document.querySelector("#reloadGame").addEventListener("click",function(){(0,o.debounce)(function(){a.currentTime=0,e()},c.SETTINGS.DEBOUNCE_INTERVAL_MS)})};document.querySelector("#startGame").addEventListener("click",d);var l=function(e){e.classList.contains("hidden")||e.classList.add("hidden")},f=function(e){e.classList.contains("hidden")&&e.classList.remove("hidden")},h=function(){var e=document.querySelector("#cardsContainer"),t=e.querySelectorAll(".js-card");document.querySelectorAll(".js-cards-container__item").forEach(function(e){return e.removeEventListener("click",a.handleCardClick)}),t.forEach(function(e){return e.parentElement.removeChild(e)})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=void 0,a=t.getRandomValue=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};t.getRandomArray=function(e,t){var r=[],n=[];n=[].concat(e);for(var o=0;o<t;o++){var c=a(0,n.length-1);r.push(n[c]),n.splice(c,1)}return r},t.debounce=function(e,t){n&&window.clearTimeout(n),n=window.setTimeout(e,t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleCardClick=void 0;var n=r(1);t.handleCardClick=function(e){var t=e.target,r=t.parentNode;r.classList.contains("js-card")&&n.game.processCardClick(r)}},function(e,t,r){r(1),e.exports=r(12)},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Game=t.score=void 0;var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(6),c=r(7),i=r(0),s=r(8),u=r(9),d=i.SETTINGS.ALL_PAIRS,l=i.SETTINGS.CARDS_PAIR_SHOW_INTERVAL_MS,f=document.querySelector("#successSound"),h=t.score=new o.Score;t.Game=function(){function e(t){n(this,e),this.cards=t,this.shownCards=[],this.deletedPairsCount=0}return a(e,[{key:"startNew",value:function(){h.reset(),(0,c.showScore)(h.getTotalScore()),this.cards.refresh(),this.cards.createCardsList(),u.CardsActions.showAndHideAllCards(),this.shownCards=[],this.deletedPairsCount=0}},{key:"processCardClick",value:function(e){this.shownCards.length<2&&-1===this.shownCards.indexOf(e)&&(u.CardsActions.showCard(e),this.shownCards.push(e),2===this.shownCards.length&&(this.cards.areTheSame(this.shownCards[0],this.shownCards[1])?setTimeout(this.handleSuccessfullStep.bind(this),l):setTimeout(this.handleFailStep.bind(this),l)))}},{key:"handleFailStep",value:function(){h.toDecrease(this.deletedPairsCount),(0,c.showScore)(h.getTotalScore()),u.CardsActions.hideCardsPair(this.shownCards[0],this.shownCards[1]),this.shownCards=[]}},{key:"handleSuccessfullStep",value:function(){u.CardsActions.deleteCardsPair(this.shownCards[0],this.shownCards[1]),this.deletedPairsCount++,h.toIncrease(this.deletedPairsCount),(0,c.showScore)(h.getTotalScore()),f.play(),this.shownCards=[],this.deletedPairsCount===d&&(0,s.handleGameOver)(h.getTotalScore())}}]),e}()},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Score=void 0;var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(0),c=o.SETTINGS.POINT,i=o.SETTINGS.ALL_PAIRS;t.Score=function(){function e(){n(this,e),this.totalScore=0}return a(e,[{key:"toIncrease",value:function(e){this.totalScore+=(i-e)*c}},{key:"toDecrease",value:function(e){this.totalScore-=e*c}},{key:"reset",value:function(){this.openPairs=0,this.totalScore=0}},{key:"getTotalScore",value:function(){return this.totalScore}}]),e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.showScore=function(e){document.querySelector("#score span").textContent=e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleGameOver=void 0;var n=r(1);t.handleGameOver=function(e){document.querySelector("#gamePage").classList.add("hidden");var t=document.querySelector("#endPage");t.classList.remove("hidden");var r=t.querySelectorAll(".js-end-page__header");r[1].querySelector("span").textContent=e;var a=document.querySelector("#backgroundMusic");e>=0?(a.src="../dist/media/victory.mp3",""===r[0].textContent&&(r[0].textContent="Поздравляем!")):(a.src="../dist/media/silent.mp3",r[0].textContent=""),a.play(),document.querySelector("#gameAgain").addEventListener("click",function(){(0,n.handleStartGame)()})}},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.CardsActions=void 0;var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(3),c=r(2),i=r(0);t.CardsActions=function(){function e(){n(this,e)}return a(e,null,[{key:"showCard",value:function(e){e.querySelector(".js-card__back").classList.add("transparent")}},{key:"hideCard",value:function(e){e.querySelector(".js-card__back").classList.remove("transparent")}},{key:"deleteCard",value:function(e){e.parentElement.removeChild(e)}},{key:"hideCardsPair",value:function(t,r){e.hideCard(t),e.hideCard(r)}},{key:"deleteCardsPair",value:function(t,r){e.deleteCard(t),e.deleteCard(r)}},{key:"showAndHideAllCards",value:function(){var t=document.querySelector("#gamePage"),r=t.querySelectorAll(".js-cards-container__item");r.forEach(function(t){return e.showCard(t)}),(0,c.debounce)(function(){r.forEach(function(t){e.hideCard(t),t.addEventListener("click",o.handleCardClick)})},i.SETTINGS.ALL_CARDS_SHOW_INTERVAL_MS)}}]),e}()},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Cards=void 0;var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(11),c=(t.Cards=function(){function e(){n(this,e),this.cardNames=(0,o.generateCardNames)()}return a(e,[{key:"createCardsList",value:function(){var e=this;document.querySelector("#gamePage").querySelectorAll(".js-cards-container__item").forEach(function(t,r){return t.appendChild(i(e.cardNames[r],r))})}},{key:"refresh",value:function(){this.cardNames=(0,o.generateCardNames)()}},{key:"areTheSame",value:function(e,t){return this.cardNames[e.id]===this.cardNames[t.id]}}]),e}(),function(){var e=document.createElement("div");return e.classList.add("card__back"),e.classList.add("js-card__back"),e}),i=function(e,t){var r=document.createElement("div");r.id=t,r.classList.add("card"),r.classList.add("js-card");var n=document.createElement("img");return n.setAttribute("alt","card"),n.src="../dist/img/"+e+".png",n.width="100",n.height="140",r.appendChild(n),r.appendChild(c()),r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateCardNames=void 0;var n=r(2),a=r(0),o=function(e){var t="";switch(e){case 1:t="H";break;case 2:t="C";break;case 3:t="S";break;case 4:t="D"}return t},c=function(e){var t="";switch(e){case 1:t="A";break;case 11:t="J";break;case 12:t="Q";break;case 13:t="K";break;case 10:t="0";break;default:t=e}return t},i=function(){for(var e=0,t=0,r=[],n=0;n<52;n++){e=n%13+1,t=n%4+1;var a=c(e),i=o(t);r[n]=a+i}return r}();t.generateCardNames=function(){var e=(0,n.getRandomArray)(i,a.SETTINGS.ALL_PAIRS),t=e.concat(e);return(0,n.getRandomArray)(t,t.length)}},function(e,t){}]);
//# sourceMappingURL=main.min.js.map